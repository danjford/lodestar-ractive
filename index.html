<!DOCTYPE html>
<html>
<head>
  <title>Lodestar-Ractive</title>
  <link rel="stylesheet" type="text/css" href="assets/css/base.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>

  <noscript>
    <div class="note">
      Just a note that you have JavaScript disabled.
    </div>
  </noscript>

  <main id="main-page">
    <section class="title-section">

      <div class="container">
        <h1>Lodestar-Ractive</h1>

        <p>A simple combination of the LodestarJs-router and Ractive, presented as a framework.</p>

        <button class="round-down" on-click="downToFirst">
          &#x25BE;
        </button>
      </div>

    </section>

    <section id="examples">
      <div id="first" class="container">
        <div class="panel">
          <div class="panel-heading">
            <h1 class="title text-center">Two way data-binding</h1>
          </div>
          <div class="panel-body cloak text-center clearfix">
            <div class="row">
              <div class="col-sm-6">
                <input type="text" class="input stretch" value="{{fullName}}" placeholder="Enter a name" />
              </div>
              <div class="col-sm-6">
                Hi my name is {{fullName}}, and I find this is so simple!
              </div>
              {{#if fullName.toLowerCase() === 'great scott!'}}
                <div class="col-xs-12 {{#if !fullName}} hide {{/if}}">
                  <img src="/lodestar-ractive/assets/images/great-scott.gif"/>
                </div>
                <div class="col-xs-12 {{#if !fullName}} hide {{/if}}">
                  <strong>Great Scott! I've been found...</strong>
                </div>
              {{/if}}
            </div>
          </div>
          <div class="panel-footer">
            <pre>router.createRoute({
  path: <span style="color:#ad9361">'/'</span>,
  controller: function() { },
  view: {
    el: <span style="color:#ad9361">'#target'</span>,
    template: <span style="color:#ad9361">'&lt;input type="text" value="\{{fullName}}"/> Hi my name is \{{fullName}}, and I find this is so simple!'</span>
  }
});
            </pre>
          </div>
        </div>
      </div>

     <div class="container">
        <div class="panel">
          <div class="panel-heading">
            <h1 class="title text-center">Simple Todo MVC</h1>
          </div>
          <div class="panel-body cloak text-center clearfix">
            <div class="todo-list">
              <form on-submit="addTodo:{{todo.input}}">
                <input type="text" value="{{todo.input}}" placeholder="What do you have todo?" />
              </form>
              <ul class="clearfix {{#unless todo.items.length}} hide {{/unless}}">
                {{#each todo.items:i}}
                  <li class="clearfix">
                    <div class="col-xs-6 text-left">
                      <span class="{{this.completed ? 'completed': ''}}">{{task}}</span>
                    </div>
                    <div class="col-xs-6 text-right">
                      <button on-click="set(@keypath + '.completed', !completed)" class="button {{this.completed ? 'button-secondary': 'button-primary'}}">{{#if completed}}undo{{else}}complete{{/if}}</button>
                      <button on-click="splice('todo.items', @index, 1)" class="button button-warn">delete</button>
                    </div>
                  </li>
                {{/each}}
              </ul>
              <strong class="text-center cloak">{{todo.items.length}} / {{todo.max}} </strong>
            </div>
          </div>
          <div class="panel-footer">
            <div class="tabbed-code">
              <ul class="tabs">
                <li><a href="#example-one" class="active" on-click="activeTab">HTML</a></li>
                <li><a href="#example-two" on-click="activeTab">JavaScript</a></li>
              </ul>
              <div class="code-wrap">

                <div id="example-one" class="active">
                  <iframe src="/lodestar-ractive/todo-mvc-example.html"></iframe>

                </div>

                <div id="example-two" style="background:#211e1e;color:#dadada; ">
<pre style="background:#211e1e;color:#dadada">router.createRoute({
  path: <span style="color:#ad9361">'/'</span>,
  controller: function() { },
  view: {
    el: <span style="color:#ad9361">'#main-page'</span>,
    data: { <span style="color:#ad9361">'todo'</span>: { <span style="color:#ad9361">'items'</span>: [], <span style="color:#ad9361">'max'</span>: <span style="color:#ccc">5</span> } },
    template: document.querySelector(<span style="color:#ad9361">'#todo'</span>).innerHTML
  },
  actions: {
    addTodo: function ( event, inputVal ) {
      <span style="color:#6969fa;font-weight:700">if</span> ( inputVal.length <span style="color:#47b8d6">&amp;</span><span style="color:#47b8d6">&amp;</span> <span style="color:#c1c144">this</span>.get(<span style="color:#ad9361">'todo.items'</span>).length <span style="color:#47b8d6">&lt;</span> <span style="color:#c1c144">this</span>.get(<span style="color:#ad9361">'todo.max'</span>) ) {
        <span style="color:#c1c144">this</span>.<span style="color:#a1a1ff">push</span>( <span style="color:#ad9361">'todo.items'</span>, { task: inputVal } );
        <span style="color:#c1c144">this</span>.set(<span style="color:#ad9361">'todo.input'</span>, <span style="color:#ad9361">''</span>);
      }
      event.original.preventDefault();
    }
});
</pre>
                </div>

              </div>

            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="panel">
          <div class="panel-heading">
            <h1 class="title text-center">Easy Events</h1>
          </div>
          <div class="panel-body text-center clearfix">
            <div class="row">
              <div class="col-sm-6">
                <div id="random-color" style="background-color: {{color || '#f2f2f2'}};"></div>
              </div>
              <div class="col-sm-6"><button class="button ghost-primary thicker stretch" on-click="randomColor">Click me!</button></div>
            </div>
          </div>
          <div class="panel-footer">
            <pre style="background:#211e1e;color:#dadada">router.createRoute({
  path: <span style="color:#ad9361">'/'</span>,
  controller: function() { },
  view: {
    el: <span style="color:#ad9361">'#target'</span>,
    template: <span style="color:#ad9361">'&lt;div id="random-color" style="background-color: \{{color}};">&lt;/div>&lt;button on-click="randomColor">click me&lt;/button>'</span>
  },
  actions: {
    randomColor: function() {
       <span style="color:#c1c144">this</span>.set(<span style="color:#ad9361">'color'</span>, <span style="color:#ad9361">"#"</span> <span style="color:#47b8d6">+</span> Math.<span style="color:#a1a1ff">random</span>().<span style="color:#a1a1ff">toString</span>(<span style="color:#ccc">16</span>).<span style="color:#a1a1ff">slice</span>(<span style="color:#ccc">2</span>, <span style="color:#ccc">8</span>));
    }
  }
});
            </pre>
          </div>
        </div>
      </div>


      <div class="container">
        <div class="panel">
          <div class="panel-heading">
            <h1 class="title text-center">Get HTML from other pages</h1>
          </div>
          <div class="panel-body text-center">
            <div>This will pull in content without reloading the page.</div>
            <a href="/lodestar-ractive/example">To the example!<a>
          </div>
          <div class="panel-footer">
            <pre>router.createRoute({
  path: <span style="color:#ad9361">'/example'</span>,
  controller: function() { },
  view: {
    el: <span style="color:#ad9361">'#target'</span>,
    template: {
      url: <span style="color:#ad9361">'/lodestar-ractive/example'</span>,
      container: <span style="color:#ad9361">'main'</span>,
      notOnSame: <span style="color:#ad9361">true</span> <span style="color:#989898;">// Makes sure not to execute the request when on the page already</span>
    }
  }
});
            </pre>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="panel">
          <div class="panel-heading">
            <h1 class="title text-center">Simple Hierarchy with built-in "caching"</h1>
          </div>
          <div class="panel-body">
            <pre>router.createRoute({
  path: <span style="color:#ad9361">'/'</span>,
  controller: function() {
    console<span style="color:#a1a1ff">.log</span>(<span style="color:#ad9361">'This is the index page.'</span>);
  }
});

router.createRoute({
  path: <span style="color:#ad9361">'[/]blog'</span>,
  controller: function() {
    console<span style="color:#a1a1ff">.log</span>(<span style="color:#ad9361">'This is the child of that ^ index page.'</span>);
  }
});
            </pre>
          </div>
        </div>
      </div>


      <div class="container">
        <div class="panel">
          <div class="panel-heading">
            <h1 class="title text-center">Progressively Enhance?</h1>
          </div>
          <div class="panel-body text-center">
            Although a simple example, you could do some simple progressive enhancement using this. Turn off JavaScript and have a look!
          </div>
          <div class="panel-footer"></div>
        </div>
      </div>
    </section>

    <h1 class="coming-soon">More examples coming soon!</h1>

  </main>

  <script type="text/javascript" src="assets/js/ractive.js"></script>
  <script type="text/javascript" src="assets/js/lodestar-ractive.js"></script>
  <script type="text/javascript" src="assets/js/main.js"></script>
</body>
</html>
